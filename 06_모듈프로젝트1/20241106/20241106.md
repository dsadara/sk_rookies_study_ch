# 취약점 분석
`주요정보통신기반시설 기술적 취약점 분석/평가 방법 상세가이드`
* RFP -> 취약점 분석 요청 제안요청서

## 주통기
* 1,2,7,8번 항목만 취약점 분석 할거임
* 상중하 다 하면 되는게 아님
  * 두괄식으로 먼저 요약하고 뒤에 상세설명
  * 총평을 잘 적어야 함 -> 뒷부분을 바빠서 못보더라도 알 수 있게
  * 단순히 취약점 뭐뭐가 나왔습니다 X
    * 인사이트를 줘야 함, 최소한 이거는 뭐해야겠다, 증설, 교육을 해야 겠다 등 조치사항
    * 그리고 전문가니까 버전같은건 똑바로
  * 상중하 -> 해당 쇼핑몰에서 하 중요도인것도 중요한 문제일 수 있다
  * 취약점 항목이 버전별로 다를 수 있음 -> 해당 우분투 버전에 적용해봐야 앎
  * 버전별 다른 취약점 같은건 gpt, 클로드 등 ai도 활용해보기
  * 컨설팅 -> 고객이 물어봤는데 우물쭈물 답변하면 신뢰도 하락
    * 그니깐 최소한 건드린 영역에 대해서는 한두삽 더 파서 알고 있어야 함
      * 개발자를 상대해야 함
  * 크롬부라우저 -> 검색 키워드를 휠버튼 눌러서 탭만 뛰어놓고 나중에 다 읽어보는 방식
  


## 보고서
* CI (Corporate Identity)
  * 기업에서 중요한 요소
  * 기업 홈페이지에 따로 놓을정도로 중요
  * 로고 사용 규칙
  * 색깔도 rgb로 정해둠
  * 보고서에 고객사 CI를 가이드대로 제대로 박자
* 제 개정 이력표
  * 버전관리
  * V0.1 -> 아직 완성 안됨, 내부용
    * 최종 배포때는 0점대 날림
  * v1.0 -> 완성되어서 오픈된 것
* 목차 꼭 쓰기
  * 내용을 작성하고 제목을 목차에 뜨는 것
  * 대분류 소분류 이런 기능 사용
  * 목차 업데이트
    * 제목 추가되면 -> 전체 업데이트
* 아키텍쳐 -> 완성한 부분까지
* 클라우드 용어 정리
  * 비즈니스 용어랑 겹치니깐
  * 원어가 뭔지, 간략한 의미 
* 목적
  * 그대로 쓰지 말고 본인의 말로 닷 ㅣ적자
* 진단도구
  * 어떤걸로 적었는지 꼭 적다
* 진단항목
  * OWASP 항목도 참고하면 새로운 인사이트 얻을 수 있음
    * 정성적 평가 점수를 더 얻을 수 있다
* 스크린샷 너비 규칙 통일
  * 기준 잡아서

## Part5 Auto Scaling/ELB
* mod_jk -> Apache -> 톰캣 연결, 커낵터 마운트
* WAS 앞에 로드밸런서가 있어야 게음
  * HA, 장애방지를 위해
  * 부하분산 -> 살아있는 CPU에 전달함
* 오토 스케일링 그룹
  * 부하에 따라 CPU 개수를 늘림
  * 축소정책도 필요할 것임
  * 최대 3개까지 하자..
* NLB -> AZ를 걸쳐서 연결할 수 없음
* 교차영역 로드밸런싱 활성화
  * 모두 같은 가중도 가짐
  * 해제하면 합만 같음
* 실제 ALB는 서브넷 밖에 있지만
  * 인터널 노드를 통해서 서브넷을 들어감
  * 실은 public subnet에 있는 ec2는 private 영역에 있음
  * public안에 있는 인터널 노드를 통해서 public 하게 연결된 것
* 8009 포트
  * 톰캣 커넥터 포트임 (ajp1.3)
* 로드밸런스의 이중화
  * dns 방식으로 사용
* 대상그룹 속성 -> 고정켜기
  * was에 요청을 고정 -> 세션 유지를 위함
  * 대상 그룹에 was가 여러개 있는데 elb는 이들 중 아무대나 줌
    * 그래서 세션을 유지가 안됨 -> 로그인이 풀림

## 취약점 진단
* web ec2와 was ec2에 대한 연결을 만들어서 취약점 진단

## S3
* 외부에 있는 서비스임
  * VPC 내부에서 접속하나, 외부에서 접속하나 같음
* 로깅용 s3 버킷 생성

## CloudTrail
* S3와 연결해서 이벤트 기록 확인

## CloudWatch
* 모니터링
* cloudwatch logs
  * 로그를 보는 서비스